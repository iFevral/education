2019-11-20T09:38:53.0853255+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T09:38:53.0998200+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T09:38:53.1019205+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T09:38:53.1506133+02:00 8000008e-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T09:38:53.2665515+02:00 8000008e-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T09:38:53.2895836+02:00 8000008e-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T09:38:53.8056679+02:00 8000008e-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T09:38:53.8829537+02:00 8000008e-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 560.3366ms (afa2e885)
2019-11-20T09:38:53.8856177+02:00 8000008e-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T09:38:53.9166922+02:00 8000008e-0005-ff00-b63f-84710c7967bb [INF] Request finished in 746.0888ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T09:38:54.0500021+02:00 8000006f-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/favicon.ico   (ca22a1cb)
2019-11-20T09:38:54.0653652+02:00 8000006f-0003-ff00-b63f-84710c7967bb [INF] Request finished in 7.7797ms 404  (791a596a)
2019-11-20T09:39:13.9993243+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 52 (ca22a1cb)
2019-11-20T09:39:14.0058915+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T09:39:14.0327374+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInModelItem)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T09:39:14.7241217+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T09:39:16.0541931+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T09:39:16.2691594+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T09:39:16.3050478+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T09:39:16.3189237+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T09:39:16.3327029+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T09:39:16.3487672+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T09:39:16.3572272+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T09:39:16.3740106+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T09:39:16.3790724+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T09:39:16.5868764+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.UserModelItem"'. (8a1b66c8)
2019-11-20T09:39:16.5988048+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 2564.1892000000003ms (afa2e885)
2019-11-20T09:39:16.6017611+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T09:39:16.6081692+02:00 8000002a-0000-fe00-b63f-84710c7967bb [INF] Request finished in 2610.0763ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T09:39:47.2431480+02:00 8000002b-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 51 (ca22a1cb)
2019-11-20T09:39:47.2492547+02:00 8000002b-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T09:39:47.2521593+02:00 8000002b-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInModelItem)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T09:39:47.2904523+02:00 8000002b-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T09:39:47.2952266+02:00 8000002b-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T09:39:47.3125395+02:00 8000002b-0000-fe00-b63f-84710c7967bb [WRN] Invalid password for user "74db1b7f-2aff-414b-9e11-4f1df324bfb6". (c2dce6c7)
2019-11-20T09:39:47.3153419+02:00 8000002b-0000-fe00-b63f-84710c7967bb [WRN] User "74db1b7f-2aff-414b-9e11-4f1df324bfb6" failed to provide the correct password. (ec8d2479)
2019-11-20T09:39:47.4287874+02:00 8000002b-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 174.0175ms (afa2e885)
2019-11-20T09:39:47.4317270+02:00 8000002b-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T09:39:47.5321409+02:00 8000002b-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Exception: User not found
   at Store.BusinessLogic.Services.AccountService.SignIn(SignInModelItem loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 60
   at Store.Presentation.Controllers.AccountController.SignIn(SignInModelItem loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 66
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T09:39:47.5562463+02:00 8000002b-0000-fe00-b63f-84710c7967bb [INF] Request finished in 314.0333ms 500 text/plain (791a596a)
2019-11-20T11:44:40.4042995+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T11:44:40.4153162+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T11:44:40.4173448+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T11:44:40.4368655+02:00 80000067-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T11:44:40.5119032+02:00 80000067-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T11:44:40.5331834+02:00 80000067-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:44:40.7865246+02:00 80000067-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:44:40.8086127+02:00 80000067-0004-fd00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 267.82230000000004ms (afa2e885)
2019-11-20T11:44:40.8112030+02:00 80000067-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T11:44:40.8166074+02:00 80000067-0004-fd00-b63f-84710c7967bb [INF] Request finished in 391.2269ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:45:45.2371454+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignUp application/json 159 (ca22a1cb)
2019-11-20T11:45:45.2713444+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (500cc934)
2019-11-20T11:45:45.2908853+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignUp\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(Store.BusinessLogic.Models.Users.SignUpData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:45:45.8662883+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T11:45:46.3579890+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:45:46.4870414+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:45:46.6637954+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = Boolean), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 450), @p10='?' (Size = 450), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);" (65d11854)
2019-11-20T11:45:46.6908852+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:45:46.7178315+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedRoleName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2019-11-20T11:45:46.7450688+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserInRoles] AS [u]
WHERE (([u].[UserId] = @__p_0) AND @__p_0 IS NOT NULL) AND (([u].[RoleId] = @__p_1) AND @__p_1 IS NOT NULL)" (65d11854)
2019-11-20T11:45:46.7529605+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedRoleName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2019-11-20T11:45:46.7872921+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:45:46.8064511+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (65d11854)
2019-11-20T11:45:46.8150940+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Boolean), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T11:45:46.8235041+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:45:46.9332447+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)" in 1640.5191ms (afa2e885)
2019-11-20T11:45:46.9354993+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (99874f2b)
2019-11-20T11:45:47.0020173+02:00 8000004e-0002-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Store.BusinessLogic.Services.AccountService.SignUp(SignUpData signUpData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 106
   at Store.Presentation.Controllers.AccountController.SignUp(SignUpData userData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 91
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T11:45:47.0202556+02:00 8000004e-0002-ff00-b63f-84710c7967bb [INF] Request finished in 1783.4061000000002ms 500 text/plain (791a596a)
2019-11-20T11:49:34.8907081+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T11:49:34.9009006+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T11:49:34.9028940+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T11:49:34.9197170+02:00 80000050-0002-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T11:49:35.0019220+02:00 80000050-0002-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T11:49:35.0223487+02:00 80000050-0002-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:49:35.3225071+02:00 80000050-0002-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:49:35.3482419+02:00 80000050-0002-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 316.9347ms (afa2e885)
2019-11-20T11:49:35.3507245+02:00 80000050-0002-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T11:49:35.3555359+02:00 80000050-0002-ff00-b63f-84710c7967bb [INF] Request finished in 446.30760000000004ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:49:42.9535588+02:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignUp application/json 159 (ca22a1cb)
2019-11-20T11:49:42.9659611+02:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (500cc934)
2019-11-20T11:49:42.9906319+02:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignUp\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(Store.BusinessLogic.Models.Users.SignUpData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:49:43.5347894+02:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T11:49:43.9813089+02:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:49:44.1240647+02:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-11-20T11:49:44.1353050+02:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)" in 1141.2708ms (afa2e885)
2019-11-20T11:49:44.1380254+02:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (99874f2b)
2019-11-20T11:49:44.1482300+02:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Request finished in 1192.8556ms 400 application/json; charset=utf-8 (791a596a)
2019-11-20T11:49:57.0702054+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignUp application/json 159 (ca22a1cb)
2019-11-20T11:49:57.0799276+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (500cc934)
2019-11-20T11:49:57.0841839+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignUp\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(Store.BusinessLogic.Models.Users.SignUpData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:49:57.1268070+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T11:49:57.1361400+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:49:57.1836131+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:49:57.3075906+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = Boolean), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 450), @p10='?' (Size = 450), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);" (65d11854)
2019-11-20T11:49:57.3375501+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:49:57.3548456+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedRoleName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2019-11-20T11:49:57.3765007+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserInRoles] AS [u]
WHERE (([u].[UserId] = @__p_0) AND @__p_0 IS NOT NULL) AND (([u].[RoleId] = @__p_1) AND @__p_1 IS NOT NULL)" (65d11854)
2019-11-20T11:49:57.3849521+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedRoleName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2019-11-20T11:49:57.4112719+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:49:57.4313684+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (65d11854)
2019-11-20T11:49:57.4366638+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Boolean), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T11:49:57.4457459+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:49:59.8623837+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:49:59.8664220+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)" in 2779.6155000000003ms (afa2e885)
2019-11-20T11:49:59.8686806+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (99874f2b)
2019-11-20T11:49:59.8713453+02:00 80000061-0001-ff00-b63f-84710c7967bb [INF] Request finished in 2812.6962000000003ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:50:15.3079746+02:00 80000091-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/ConfirmEmail?email=xoxok28968@tmailcloud.com&token=CfDJ8DkrfsxjUBdBm10fuYHOvw12pHCmBFHpzOCwXcBhp4SVEF1U5uatqF0RY4ZdXlf/RnkkgRsYX0p/hoMe2+3jyxg1Sz/wNVKLU8tkuQcP14NpTcnLBdWner8RXwlAf9dnEHIjwnB12/oI5OFifXEyVJ+OLsLPa8vdt7s86XIiXg0o1woZKsFRABANxrYuHZ5+VnBUhd7vxxR6lV4SRjDJ9iFWWexa8MAEU3WOGD6vqZ13FkGsCmJi6y7wrApu3llOiQ==   (ca22a1cb)
2019-11-20T11:50:15.3164580+02:00 80000091-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (500cc934)
2019-11-20T11:50:15.3238976+02:00 80000091-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"ConfirmEmail\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:50:15.5002410+02:00 80000091-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)" in 174.26590000000002ms (afa2e885)
2019-11-20T11:50:15.5024541+02:00 80000091-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (99874f2b)
2019-11-20T11:50:15.5994522+02:00 80000091-0005-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentNullException: Value cannot be null. (Parameter 'userName')
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.FindByName(String name) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 104
   at Store.DataAccess.Repositories.EFRepository.UserRepository.ConfirmEmail(String username, String token) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 67
   at Store.BusinessLogic.Services.AccountService.ConfirmEmail(String username, String token) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 116
   at Store.Presentation.Controllers.AccountController.ConfirmEmail(String username, String token) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T11:50:15.6709995+02:00 80000091-0005-ff00-b63f-84710c7967bb [INF] Request finished in 363.934ms 500 text/html; charset=utf-8 (791a596a)
2019-11-20T11:51:07.7853576+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T11:51:07.7928147+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T11:51:07.7946334+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T11:51:07.8140270+02:00 8000006a-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T11:51:07.8973229+02:00 8000006a-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T11:51:07.9236334+02:00 8000006a-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:51:08.2273166+02:00 8000006a-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:51:08.2585748+02:00 8000006a-0004-fd00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 326.6822ms (afa2e885)
2019-11-20T11:51:08.2611331+02:00 8000006a-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T11:51:08.2699185+02:00 8000006a-0004-fd00-b63f-84710c7967bb [INF] Request finished in 465.95180000000005ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:51:27.8059050+02:00 80000071-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44312/Account/ConfirmEmail?username=xoxok28968@tmailcloud.com&token=CfDJ8DkrfsxjUBdBm10fuYHOvw12pHCmBFHpzOCwXcBhp4SVEF1U5uatqF0RY4ZdXlf/RnkkgRsYX0p/hoMe2+3jyxg1Sz/wNVKLU8tkuQcP14NpTcnLBdWner8RXwlAf9dnEHIjwnB12/oI5OFifXEyVJ+OLsLPa8vdt7s86XIiXg0o1woZKsFRABANxrYuHZ5+VnBUhd7vxxR6lV4SRjDJ9iFWWexa8MAEU3WOGD6vqZ13FkGsCmJi6y7wrApu3llOiQ==   (ca22a1cb)
2019-11-20T11:51:27.8179130+02:00 80000071-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (500cc934)
2019-11-20T11:51:27.8477480+02:00 80000071-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"ConfirmEmail\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:51:28.3533045+02:00 80000071-0003-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T11:51:28.7578758+02:00 80000071-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:51:28.8914243+02:00 80000071-0003-ff00-b63f-84710c7967bb [WRN] VerifyUserTokenAsync() failed with purpose: "EmailConfirmation" for user "94d6e575-6181-47c6-afc6-5fb07eca8c88". (08c3f50e)
2019-11-20T11:51:28.8964642+02:00 80000071-0003-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:51:28.8997063+02:00 80000071-0003-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)" in 1049.875ms (afa2e885)
2019-11-20T11:51:28.9029378+02:00 80000071-0003-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (99874f2b)
2019-11-20T11:51:28.9089449+02:00 80000071-0003-ff00-b63f-84710c7967bb [INF] Request finished in 1103.4299ms 400 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:52:35.2494773+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T11:52:35.2569194+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T11:52:35.2585641+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T11:52:35.2751308+02:00 80000073-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T11:52:35.3463573+02:00 80000073-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T11:52:35.3708227+02:00 80000073-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:52:35.6702569+02:00 80000073-0003-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:52:35.6959853+02:00 80000073-0003-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 316.4238ms (afa2e885)
2019-11-20T11:52:35.6998032+02:00 80000073-0003-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T11:52:35.7051779+02:00 80000073-0003-ff00-b63f-84710c7967bb [INF] Request finished in 438.937ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:53:00.9008524+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignUp application/json 159 (ca22a1cb)
2019-11-20T11:53:00.9180223+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (500cc934)
2019-11-20T11:53:00.9406732+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignUp\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(Store.BusinessLogic.Models.Users.SignUpData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:53:01.4890438+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T11:53:01.9013130+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:53:02.0173231+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:53:02.1689927+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = Boolean), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 450), @p10='?' (Size = 450), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);" (65d11854)
2019-11-20T11:53:02.1959134+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:53:02.2187370+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedRoleName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2019-11-20T11:53:02.2388535+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserInRoles] AS [u]
WHERE (([u].[UserId] = @__p_0) AND @__p_0 IS NOT NULL) AND (([u].[RoleId] = @__p_1) AND @__p_1 IS NOT NULL)" (65d11854)
2019-11-20T11:53:02.2456764+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedRoleName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2019-11-20T11:53:02.2683478+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:53:02.2846492+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (65d11854)
2019-11-20T11:53:02.2901395+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Boolean), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T11:53:02.3001806+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:53:04.6896615+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:53:04.6939168+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)" in 3750.6631ms (afa2e885)
2019-11-20T11:53:04.6974458+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (99874f2b)
2019-11-20T11:53:04.7062618+02:00 8000002e-0000-fe00-b63f-84710c7967bb [INF] Request finished in 3805.7729000000004ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:53:15.6836696+02:00 8000000c-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/ConfirmEmail?username=xoxok28968@tmailcloud.com&token=CfDJ8DkrfsxjUBdBm10fuYHOvw3lFb7PR47xk2d4AAd/gidg6XKkBgFrXPDFGjp/x2ECYmE8y/c+o3GzeNIRFuPYwjQep3Iiy5LawOCy8n0mjvLnLzUPrX5djqR0CDzgPC+h4BSslo+iSqiprtf4WH7WxiUoHZh4JJYqcIYOcmHsyqEPvWedGQCqeIuqwUDF99VBjQYCzdlv+nRamkSBIlRM+HWU457rBartsvgEZrixNvN3DwMCXX9ixoUqPrrUB98UIw==   (ca22a1cb)
2019-11-20T11:53:15.7058276+02:00 8000000c-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (500cc934)
2019-11-20T11:53:15.7257217+02:00 8000000c-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"ConfirmEmail\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:53:15.7756072+02:00 8000000c-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T11:53:15.7792436+02:00 8000000c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:53:15.7905594+02:00 8000000c-0000-fd00-b63f-84710c7967bb [WRN] VerifyUserTokenAsync() failed with purpose: "EmailConfirmation" for user "30ea759f-8ed1-4120-9162-21720fb60a0b". (08c3f50e)
2019-11-20T11:53:15.7929551+02:00 8000000c-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:53:15.7949036+02:00 8000000c-0000-fd00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)" in 67.76ms (afa2e885)
2019-11-20T11:53:15.7963303+02:00 8000000c-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (99874f2b)
2019-11-20T11:53:15.7979250+02:00 8000000c-0000-fd00-b63f-84710c7967bb [INF] Request finished in 124.0186ms 400 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:54:09.6037162+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T11:54:09.6123457+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T11:54:09.6138115+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T11:54:09.6277147+02:00 80000075-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T11:54:09.7026623+02:00 80000075-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T11:54:09.7259379+02:00 80000075-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:54:09.9839680+02:00 80000075-0003-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:54:10.0101868+02:00 80000075-0003-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 276.5846ms (afa2e885)
2019-11-20T11:54:10.0124752+02:00 80000075-0003-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T11:54:10.0174683+02:00 80000075-0003-ff00-b63f-84710c7967bb [INF] Request finished in 396.6454ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:54:30.6864842+02:00 80000094-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/ConfirmEmail?username=xoxok28968@tmailcloud.com&token=CfDJ8DkrfsxjUBdBm10fuYHOvw3lFb7PR47xk2d4AAd/gidg6XKkBgFrXPDFGjp/x2ECYmE8y/c+o3GzeNIRFuPYwjQep3Iiy5LawOCy8n0mjvLnLzUPrX5djqR0CDzgPC+h4BSslo+iSqiprtf4WH7WxiUoHZh4JJYqcIYOcmHsyqEPvWedGQCqeIuqwUDF99VBjQYCzdlv+nRamkSBIlRM+HWU457rBartsvgEZrixNvN3DwMCXX9ixoUqPrrUB98UIw==   (ca22a1cb)
2019-11-20T11:54:30.7010328+02:00 80000094-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (500cc934)
2019-11-20T11:54:30.7243775+02:00 80000094-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"ConfirmEmail\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:54:31.3619032+02:00 80000094-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T11:54:31.9303799+02:00 80000094-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:54:32.0830434+02:00 80000094-0005-ff00-b63f-84710c7967bb [WRN] VerifyUserTokenAsync() failed with purpose: "EmailConfirmation" for user "30ea759f-8ed1-4120-9162-21720fb60a0b". (08c3f50e)
2019-11-20T11:55:46.3745007+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T11:55:46.3826368+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T11:55:46.3841092+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T11:55:46.3981093+02:00 80000096-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T11:55:46.4684916+02:00 80000096-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T11:55:46.4929170+02:00 80000096-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:55:46.7412685+02:00 80000096-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:55:46.7652242+02:00 80000096-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 263.6163ms (afa2e885)
2019-11-20T11:55:46.7679283+02:00 80000096-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T11:55:46.7731812+02:00 80000096-0005-ff00-b63f-84710c7967bb [INF] Request finished in 382.7047ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:56:33.7871783+02:00 8000006d-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/ConfirmEmail?username=xoxok28968@tmailcloud.com&token=CfDJ8DkrfsxjUBdBm10fuYHOvw3lFb7PR47xk2d4AAd/gidg6XKkBgFrXPDFGjp/x2ECYmE8y/c+o3GzeNIRFuPYwjQep3Iiy5LawOCy8n0mjvLnLzUPrX5djqR0CDzgPC+h4BSslo+iSqiprtf4WH7WxiUoHZh4JJYqcIYOcmHsyqEPvWedGQCqeIuqwUDF99VBjQYCzdlv+nRamkSBIlRM+HWU457rBartsvgEZrixNvN3DwMCXX9ixoUqPrrUB98UIw==   (ca22a1cb)
2019-11-20T11:56:33.8025505+02:00 8000006d-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (500cc934)
2019-11-20T11:56:33.8259958+02:00 8000006d-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"ConfirmEmail\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:56:34.2868493+02:00 8000006d-0004-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T11:56:34.6827455+02:00 8000006d-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:56:34.8096678+02:00 8000006d-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:56:34.9006170+02:00 8000006d-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Boolean), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T11:57:08.6198636+02:00 8000006d-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:57:08.6227858+02:00 8000006d-0004-fd00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)" in 34794.942ms (afa2e885)
2019-11-20T11:57:08.6305964+02:00 8000006d-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (99874f2b)
2019-11-20T11:57:08.6365448+02:00 8000006d-0004-fd00-b63f-84710c7967bb [INF] Request finished in 34850.6047ms 400 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:57:35.6134674+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignUp application/json 159 (ca22a1cb)
2019-11-20T11:57:35.6200476+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (500cc934)
2019-11-20T11:57:35.6258757+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignUp\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(Store.BusinessLogic.Models.Users.SignUpData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:57:35.6811304+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T11:57:35.6844444+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:57:35.7199930+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:57:35.7530498+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = Boolean), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 450), @p10='?' (Size = 450), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);" (65d11854)
2019-11-20T11:57:35.7590858+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:57:35.7754273+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedRoleName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2019-11-20T11:57:35.7962556+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserInRoles] AS [u]
WHERE (([u].[UserId] = @__p_0) AND @__p_0 IS NOT NULL) AND (([u].[RoleId] = @__p_1) AND @__p_1 IS NOT NULL)" (65d11854)
2019-11-20T11:57:35.8023210+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedRoleName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2019-11-20T11:57:35.8240015+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:57:35.8360642+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (65d11854)
2019-11-20T11:57:35.8395043+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Boolean), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T11:57:35.8465517+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:57:38.4717916+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:57:38.4787794+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)" in 2848.1022000000003ms (afa2e885)
2019-11-20T11:57:38.4815374+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (99874f2b)
2019-11-20T11:57:38.4848598+02:00 80000063-0001-ff00-b63f-84710c7967bb [INF] Request finished in 2872.6322ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:57:56.7977174+02:00 80000098-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/ConfirmEmail?username=xoxok28968@tmailcloud.com&token=CfDJ8DkrfsxjUBdBm10fuYHOvw3VELWDVPiRjoLxFs8nmi1H0RtC0jDuL5tp8Yi4FCjhki0X73uvueO8uqLs8b6XjgnJec1MogUi8xAgawykEfPV4UKeiwmutjF5kUJ+Azo+yBL6tv8pBYvesyvOr/JsVdd3WX9pwa9xDzlo9H/2NYvn9rEZOuOa5nNOA9hufvVXmjZLuR9JtEsSqzCkyAG+/K8zo28z6pRvDw1Udql+7ssOOkMDf/LLP/KsokWNsAZXAg==   (ca22a1cb)
2019-11-20T11:57:56.8019801+02:00 80000098-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (500cc934)
2019-11-20T11:57:56.8045138+02:00 80000098-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"ConfirmEmail\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:57:56.8169682+02:00 80000098-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T11:57:56.8225100+02:00 80000098-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:57:56.8348934+02:00 80000098-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:57:56.8406621+02:00 80000098-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Boolean), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T11:57:58.8147999+02:00 80000098-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:57:58.8208224+02:00 80000098-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)" in 2011.6142000000002ms (afa2e885)
2019-11-20T11:57:58.8248327+02:00 80000098-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (99874f2b)
2019-11-20T11:57:58.8288398+02:00 80000098-0005-ff00-b63f-84710c7967bb [INF] Request finished in 2033.5174000000002ms 400 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:58:47.3056024+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T11:58:47.3166702+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T11:58:47.3191870+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T11:58:47.3371316+02:00 80000065-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T11:58:47.4532232+02:00 80000065-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T11:58:47.4758778+02:00 80000065-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:58:47.8131389+02:00 80000065-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:58:47.8463444+02:00 80000065-0001-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 360.45820000000003ms (afa2e885)
2019-11-20T11:58:47.8545193+02:00 80000065-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T11:58:47.8635889+02:00 80000065-0001-ff00-b63f-84710c7967bb [INF] Request finished in 535.2178ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T11:59:20.6171850+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignUp application/json 159 (ca22a1cb)
2019-11-20T11:59:20.6261039+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (500cc934)
2019-11-20T11:59:20.6575568+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignUp\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(Store.BusinessLogic.Models.Users.SignUpData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T11:59:21.2886994+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T11:59:21.7595356+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:59:21.8911567+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:59:22.0562081+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = Boolean), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 450), @p10='?' (Size = 450), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);" (65d11854)
2019-11-20T11:59:22.0891510+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:59:22.1144368+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedRoleName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2019-11-20T11:59:22.1366487+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserInRoles] AS [u]
WHERE (([u].[UserId] = @__p_0) AND @__p_0 IS NOT NULL) AND (([u].[RoleId] = @__p_1) AND @__p_1 IS NOT NULL)" (65d11854)
2019-11-20T11:59:22.1427099+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedRoleName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2019-11-20T11:59:22.1688447+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:59:22.1871028+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (65d11854)
2019-11-20T11:59:22.1923455+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Boolean), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T11:59:22.2021734+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T11:59:23.9591458+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T11:59:23.9637081+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)" in 3302.7505ms (afa2e885)
2019-11-20T11:59:23.9677266+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (99874f2b)
2019-11-20T11:59:23.9752152+02:00 80000052-0002-ff00-b63f-84710c7967bb [INF] Request finished in 3358.8966ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T12:00:09.0840143+02:00 8000009a-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/ConfirmEmail?username=xoxok28968@tmailcloud.com&token=CfDJ8DkrfsxjUBdBm10fuYHOvw0i3Rw57mRHVdb/SxqNs/9Jv0NxN8cLBIf3F1AGlvbt9ITJ49hf9owvgwlskMTbPmLLEC1Uy8gukn2IcxmflZcnK3psjNedEG6BZZbXYmz/WrOP4LCFFn3Z1C38RL/H7wXpt3xAxynuDhM2vwRWtu0Nk1CDZLAg7aEE7H2XLENbD1RE924c9MecJcPxiTdFJ/zdPSIRQ4oYztwwNmtmByuTSMTPw7KxZGmjX24Q5xwbbw==   (ca22a1cb)
2019-11-20T12:00:09.0916165+02:00 8000009a-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (500cc934)
2019-11-20T12:00:09.1006937+02:00 8000009a-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"ConfirmEmail\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:00:09.1468672+02:00 8000009a-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:00:09.1509682+02:00 8000009a-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:00:09.1613535+02:00 8000009a-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:00:09.1688828+02:00 8000009a-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Boolean), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T12:00:30.9554529+02:00 8000009a-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T12:00:30.9646773+02:00 8000009a-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)" in 21856.0216ms (afa2e885)
2019-11-20T12:00:30.9673719+02:00 8000009a-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (99874f2b)
2019-11-20T12:00:30.9707577+02:00 8000009a-0005-ff00-b63f-84710c7967bb [INF] Request finished in 21887.3195ms 400 text/plain; charset=utf-8 (791a596a)
2019-11-20T12:01:14.7570912+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T12:01:14.7682458+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T12:01:14.7704099+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T12:01:14.8328490+02:00 80000067-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T12:01:14.9602974+02:00 80000067-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T12:01:15.0136600+02:00 80000067-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:01:15.3336159+02:00 80000067-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T12:01:15.3948620+02:00 80000067-0001-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 357.476ms (afa2e885)
2019-11-20T12:01:15.3988205+02:00 80000067-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T12:01:15.4071005+02:00 80000067-0001-ff00-b63f-84710c7967bb [INF] Request finished in 591.121ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T12:01:26.6568831+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignUp application/json 159 (ca22a1cb)
2019-11-20T12:01:26.6632122+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (500cc934)
2019-11-20T12:01:26.6815167+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignUp\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(Store.BusinessLogic.Models.Users.SignUpData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:01:27.1784110+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:01:27.5673375+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:01:27.6737991+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:01:27.8197546+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (DbType = Boolean), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 450), @p10='?' (Size = 450), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);" (65d11854)
2019-11-20T12:01:27.8473379+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:01:27.8704723+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedRoleName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2019-11-20T12:01:27.8915313+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserInRoles] AS [u]
WHERE (([u].[UserId] = @__p_0) AND @__p_0 IS NOT NULL) AND (([u].[RoleId] = @__p_1) AND @__p_1 IS NOT NULL)" (65d11854)
2019-11-20T12:01:27.8975245+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedRoleName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2019-11-20T12:01:27.9199584+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:01:27.9359838+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (65d11854)
2019-11-20T12:01:27.9412151+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Boolean), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T12:01:27.9498148+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:01:29.8208487+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T12:01:29.8236628+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)" in 3140.4516000000003ms (afa2e885)
2019-11-20T12:01:29.8275368+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignUp (Store.Presentation)"' (99874f2b)
2019-11-20T12:01:29.8397700+02:00 80000031-0000-fe00-b63f-84710c7967bb [INF] Request finished in 3182.4700000000003ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T12:01:40.4734534+02:00 8000005b-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/ConfirmEmail?username=xoxok28968@tmailcloud.com&token=CfDJ8DkrfsxjUBdBm10fuYHOvw1TUgYevTqfPFCaOQIcaI0Yw08P4rOjEI/mQXB2SnnHLchuxkz8fEFRdLgw81aYXfOz8J3qZyNHWGcygY6hEUuHalKERa4dhB49zciPpEmGQ+cvjUbfnvhU5SwqEdBWES4UyoE0KrVzbXiq5o4NOaWyJ7hBTkLvKf6vmCoTCPdUJbUBaEgF/NyUsxtqu0H8oSQISii9KLqyl2qR1Ki17V+1CK5n0bQ/Ckf3PJGKeNEoBQ==   (ca22a1cb)
2019-11-20T12:01:40.4814631+02:00 8000005b-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (500cc934)
2019-11-20T12:01:40.4891228+02:00 8000005b-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"ConfirmEmail\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:01:40.5385889+02:00 8000005b-0004-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:01:40.5419081+02:00 8000005b-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:01:40.5539166+02:00 8000005b-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:01:40.5643536+02:00 8000005b-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Boolean), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T12:01:40.5738811+02:00 8000005b-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T12:01:40.5765313+02:00 8000005b-0004-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)" in 85.4651ms (afa2e885)
2019-11-20T12:01:40.5846767+02:00 8000005b-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.ConfirmEmail (Store.Presentation)"' (99874f2b)
2019-11-20T12:01:40.5871407+02:00 8000005b-0004-fe00-b63f-84710c7967bb [INF] Request finished in 116.063ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T12:01:55.4987018+02:00 80000032-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 71 (ca22a1cb)
2019-11-20T12:01:55.5022086+02:00 80000032-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T12:01:55.5120580+02:00 80000032-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:01:55.5253991+02:00 80000032-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:01:55.5299141+02:00 80000032-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:01:55.5553166+02:00 80000032-0000-fe00-b63f-84710c7967bb [WRN] Invalid password for user "1f349aa1-4910-4998-abcc-d91ee18a6173". (c2dce6c7)
2019-11-20T12:01:55.5577151+02:00 80000032-0000-fe00-b63f-84710c7967bb [WRN] User "1f349aa1-4910-4998-abcc-d91ee18a6173" failed to provide the correct password. (ec8d2479)
2019-11-20T12:01:55.6229033+02:00 80000032-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 108.876ms (afa2e885)
2019-11-20T12:01:55.6247089+02:00 80000032-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T12:01:55.6708709+02:00 80000032-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Store.Presentation.Controllers.AccountController.SignIn(SignInData loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 70
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T12:01:55.6850684+02:00 80000032-0000-fe00-b63f-84710c7967bb [INF] Request finished in 187.63680000000002ms 500 text/plain (791a596a)
2019-11-20T12:01:59.4842642+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T12:01:59.4878754+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T12:01:59.4927019+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:01:59.5059091+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:01:59.5091594+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:01:59.5574455+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T12:01:59.5930500+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T12:01:59.6048694+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T12:01:59.6142007+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T12:01:59.6336130+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T12:01:59.6384334+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:01:59.6460043+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:01:59.6511580+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T12:01:59.6561480+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:01:59.6602382+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T12:01:59.6636470+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 168.6766ms (afa2e885)
2019-11-20T12:01:59.6658680+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T12:01:59.6683199+02:00 80000033-0000-fe00-b63f-84710c7967bb [INF] Request finished in 191.697ms 401 text/plain; charset=utf-8 (791a596a)
2019-11-20T12:02:05.6744031+02:00 80000034-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 71 (ca22a1cb)
2019-11-20T12:02:05.6774591+02:00 80000034-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T12:02:05.6819124+02:00 80000034-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:02:05.6878792+02:00 80000034-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:02:05.6931609+02:00 80000034-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:02:05.7076055+02:00 80000034-0000-fe00-b63f-84710c7967bb [WRN] Invalid password for user "1f349aa1-4910-4998-abcc-d91ee18a6173". (c2dce6c7)
2019-11-20T12:02:05.7095489+02:00 80000034-0000-fe00-b63f-84710c7967bb [WRN] User "1f349aa1-4910-4998-abcc-d91ee18a6173" failed to provide the correct password. (ec8d2479)
2019-11-20T12:02:05.7474828+02:00 80000034-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 62.685300000000005ms (afa2e885)
2019-11-20T12:02:05.7508964+02:00 80000034-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T12:02:05.7560112+02:00 80000034-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Store.Presentation.Controllers.AccountController.SignIn(SignInData loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 70
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T12:02:05.7595112+02:00 80000034-0000-fe00-b63f-84710c7967bb [INF] Request finished in 85.0137ms 500 text/plain (791a596a)
2019-11-20T12:03:46.7792859+02:00 80000035-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 71 (ca22a1cb)
2019-11-20T12:03:46.7837990+02:00 80000035-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T12:03:46.7874444+02:00 80000035-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:03:46.7917903+02:00 80000035-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:03:46.7971570+02:00 80000035-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:03:46.8127723+02:00 80000035-0000-fe00-b63f-84710c7967bb [WRN] Invalid password for user "1f349aa1-4910-4998-abcc-d91ee18a6173". (c2dce6c7)
2019-11-20T12:03:46.8151919+02:00 80000035-0000-fe00-b63f-84710c7967bb [WRN] User "1f349aa1-4910-4998-abcc-d91ee18a6173" failed to provide the correct password. (ec8d2479)
2019-11-20T12:08:42.6007670+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T12:08:42.6094290+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T12:08:42.6137614+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T12:08:42.6873744+02:00 8000009c-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T12:08:42.8082405+02:00 8000009c-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T12:08:42.8277318+02:00 8000009c-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:08:43.0760149+02:00 8000009c-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T12:08:43.1013420+02:00 8000009c-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 266.3234ms (afa2e885)
2019-11-20T12:08:43.1031871+02:00 8000009c-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T12:08:43.1078161+02:00 8000009c-0005-ff00-b63f-84710c7967bb [INF] Request finished in 442.3587ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T12:08:47.3710945+02:00 8000005d-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 71 (ca22a1cb)
2019-11-20T12:08:47.3783889+02:00 8000005d-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T12:08:47.4022515+02:00 8000005d-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:08:47.8873938+02:00 8000005d-0004-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:08:48.2949462+02:00 8000005d-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:08:48.4454951+02:00 8000005d-0004-fe00-b63f-84710c7967bb [WRN] Invalid password for user "1f349aa1-4910-4998-abcc-d91ee18a6173". (c2dce6c7)
2019-11-20T12:08:48.4488363+02:00 8000005d-0004-fe00-b63f-84710c7967bb [WRN] User "1f349aa1-4910-4998-abcc-d91ee18a6173" failed to provide the correct password. (ec8d2479)
2019-11-20T12:08:54.4142988+02:00 8000005d-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-11-20T12:08:54.4231151+02:00 8000005d-0004-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 7018.7442ms (afa2e885)
2019-11-20T12:08:54.4263373+02:00 8000005d-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T12:08:54.4335784+02:00 8000005d-0004-fe00-b63f-84710c7967bb [INF] Request finished in 7062.5321ms 404 application/json; charset=utf-8 (791a596a)
2019-11-20T12:09:00.2260715+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T12:09:00.2374143+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T12:09:00.2793380+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:09:00.3355686+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:09:00.3419672+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:09:00.3896442+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T12:09:00.4267287+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T12:09:00.4513206+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T12:09:00.4740657+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T12:09:00.4936578+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T12:09:00.4992543+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:09:00.5151854+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:09:00.5186546+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T12:09:00.5226227+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:09:00.5255842+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T12:09:00.5284253+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 247.12560000000002ms (afa2e885)
2019-11-20T12:09:00.5318741+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T12:09:00.5347792+02:00 8000005e-0004-fe00-b63f-84710c7967bb [INF] Request finished in 309.86240000000004ms 401 text/plain; charset=utf-8 (791a596a)
2019-11-20T12:15:16.8078272+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T12:15:16.8153196+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T12:15:16.8164569+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T12:15:16.8274965+02:00 8000006c-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T12:15:16.8984618+02:00 8000006c-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T12:15:16.9166882+02:00 8000006c-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:15:17.1589617+02:00 8000006c-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T12:15:17.1812274+02:00 8000006c-0004-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 256.9721ms (afa2e885)
2019-11-20T12:15:17.1833169+02:00 8000006c-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T12:15:17.1880680+02:00 8000006c-0004-ff00-b63f-84710c7967bb [INF] Request finished in 365.7326ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T12:16:00.1474243+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T12:16:00.1557450+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T12:16:00.1799264+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:16:00.6693463+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:16:01.0699913+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:16:01.2423973+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T12:16:01.2746167+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T12:16:01.2842443+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T12:16:01.2975216+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T12:16:01.3129178+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T12:16:01.3207662+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:16:01.3359743+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:16:01.3397138+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T12:16:01.3439257+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:16:01.4662948+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.UserModelItem"'. (8a1b66c8)
2019-11-20T12:16:01.4755927+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 1293.7064ms (afa2e885)
2019-11-20T12:16:01.4788765+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T12:16:01.4851944+02:00 8000009e-0005-ff00-b63f-84710c7967bb [INF] Request finished in 1338.6704ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T12:17:19.2853285+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T12:17:19.3485719+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T12:17:19.3556738+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T12:17:19.3573198+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T12:17:19.3633056+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:17:19.4056817+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:17:19.4253551+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T12:17:19.4310030+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:17:19.4358108+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T12:17:19.4402270+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:17:19.4431221+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.AccessTokenData"'. (8a1b66c8)
2019-11-20T12:17:19.4456327+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 80.7338ms (afa2e885)
2019-11-20T12:17:19.4486206+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T12:17:19.4512922+02:00 8000009f-0005-ff00-b63f-84710c7967bb [INF] Request finished in 167.738ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T12:17:21.2613747+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T12:17:21.2668602+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T12:17:21.2714705+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T12:17:21.2737515+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T12:17:21.2767885+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:17:21.3339282+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:17:21.3386668+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T12:17:21.3441192+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:17:21.3511547+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T12:17:21.3587845+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:17:21.3690801+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.AccessTokenData"'. (8a1b66c8)
2019-11-20T12:17:21.3819491+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 93.3653ms (afa2e885)
2019-11-20T12:17:21.3841418+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T12:17:21.3872171+02:00 800000a0-0005-ff00-b63f-84710c7967bb [INF] Request finished in 126.2621ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T12:17:22.0334353+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T12:17:22.0397998+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T12:17:22.0455680+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T12:17:22.0500558+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T12:17:22.0542466+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:17:22.0586499+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:17:22.0628271+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T12:17:22.0701905+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:17:22.0733859+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T12:17:22.0763831+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:17:22.0794250+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.AccessTokenData"'. (8a1b66c8)
2019-11-20T12:17:22.0833667+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 26.2356ms (afa2e885)
2019-11-20T12:17:22.0862236+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T12:17:22.0881993+02:00 800000a1-0005-ff00-b63f-84710c7967bb [INF] Request finished in 69.3151ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T12:17:22.6072133+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T12:17:22.6120279+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T12:17:22.6177429+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T12:17:22.6205724+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T12:17:22.6246440+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T12:17:22.6314299+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T12:17:22.6377033+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T12:17:22.6443710+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:17:22.6513942+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T12:17:22.6561821+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T12:17:22.6675927+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.AccessTokenData"'. (8a1b66c8)
2019-11-20T12:17:22.6757442+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 44.9517ms (afa2e885)
2019-11-20T12:17:22.6777430+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T12:17:22.6817123+02:00 800000a2-0005-ff00-b63f-84710c7967bb [INF] Request finished in 73.3944ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T13:03:33.3756118+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T13:03:33.3827738+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T13:03:33.3843124+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T13:03:33.3976907+02:00 80000069-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T13:03:33.4669414+02:00 80000069-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T13:03:33.4888248+02:00 80000069-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T13:03:33.7658181+02:00 80000069-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T13:03:33.7958018+02:00 80000069-0001-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 299.40860000000004ms (afa2e885)
2019-11-20T13:03:33.7982594+02:00 80000069-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T13:03:33.8056072+02:00 80000069-0001-ff00-b63f-84710c7967bb [INF] Request finished in 412.2212ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T13:03:39.4616747+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T13:03:39.4691723+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T13:03:39.4924300+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T13:03:39.9775404+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T13:03:40.3783386+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:03:40.5508541+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T13:03:40.5841020+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T13:03:40.5943525+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T13:03:40.6077827+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T13:03:40.6273330+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T13:03:40.6352430+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:03:40.6510607+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:03:40.6557954+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T13:03:40.6610629+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:03:40.7829434+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:03:40.9614096+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 1466.8359ms (afa2e885)
2019-11-20T13:03:40.9636838+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T13:03:41.0296571+02:00 80000061-0004-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindTokenAsync(TUser user, String loginProvider, String name, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserStoreBase`5.GetTokenAsync(TUser user, String loginProvider, String name, CancellationToken cancellationToken)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.GetRefreshToken(String username) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 148
   at Store.DataAccess.Repositories.EFRepository.UserRepository.RemoveRefreshToken(String username) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 163
   at Store.BusinessLogic.Services.AccountService.SaveRefreshToken(String username, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 168
   at Store.Presentation.Controllers.AccountController.SignIn(SignInData loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T13:03:41.0470192+02:00 80000061-0004-fe00-b63f-84710c7967bb [INF] Request finished in 1585.6885ms 500 text/plain (791a596a)
2019-11-20T13:06:48.9412214+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T13:06:48.9505000+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T13:06:48.9526742+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T13:06:48.9678916+02:00 80000054-0002-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T13:06:49.0431581+02:00 80000054-0002-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T13:06:49.0669620+02:00 80000054-0002-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T13:06:49.3180153+02:00 80000054-0002-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T13:06:49.3412128+02:00 80000054-0002-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 266.5765ms (afa2e885)
2019-11-20T13:06:49.3434314+02:00 80000054-0002-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T13:06:49.3482816+02:00 80000054-0002-ff00-b63f-84710c7967bb [INF] Request finished in 388.3268ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T13:06:55.7643367+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T13:06:55.7722603+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T13:06:55.7923167+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T13:06:56.2807847+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T13:06:56.6730091+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:06:56.8513485+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T13:06:56.8863017+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T13:06:56.8963843+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T13:06:56.9097099+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T13:06:56.9255486+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T13:06:56.9330107+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:06:56.9474287+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:06:56.9509984+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T13:06:56.9552701+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:06:57.0826951+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:06:57.1641025+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 1369.6942000000001ms (afa2e885)
2019-11-20T13:06:57.1666612+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T13:06:57.2320611+02:00 80000038-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindTokenAsync(TUser user, String loginProvider, String name, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserStoreBase`5.SetTokenAsync(TUser user, String loginProvider, String name, String value, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.SetAuthenticationTokenAsync(TUser user, String loginProvider, String tokenName, String tokenValue)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.SaveRefreshToken(String username, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 155
   at Store.BusinessLogic.Services.AccountService.SaveRefreshToken(String username, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 169
   at Store.Presentation.Controllers.AccountController.SignIn(SignInData loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T13:06:57.2495947+02:00 80000038-0000-fe00-b63f-84710c7967bb [INF] Request finished in 1488.4084ms 500 text/plain (791a596a)
2019-11-20T13:08:31.2259548+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T13:08:31.2339565+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T13:08:31.2358257+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T13:08:31.2541081+02:00 800000a4-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T13:08:31.3511709+02:00 800000a4-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T13:08:31.3909061+02:00 800000a4-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T13:08:31.6582002+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T13:08:31.6972011+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T13:08:31.7083222+02:00 800000a4-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T13:08:31.7306629+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T13:08:31.7516344+02:00 800000a4-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 350.3688ms (afa2e885)
2019-11-20T13:08:31.7590456+02:00 800000a4-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T13:08:31.7668668+02:00 800000a4-0005-ff00-b63f-84710c7967bb [INF] Request finished in 521.2339000000001ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T13:08:32.3112487+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T13:08:32.7090694+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:08:32.8813230+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T13:08:32.9153985+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T13:08:32.9256186+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T13:08:32.9386292+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T13:08:32.9535136+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T13:08:32.9615170+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:08:32.9767734+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:08:32.9801609+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T13:08:32.9845416+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:08:33.1134901+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T13:08:33.1959732+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 1463.3141ms (afa2e885)
2019-11-20T13:08:33.1983074+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T13:08:33.2613321+02:00 8000003a-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindTokenAsync(TUser user, String loginProvider, String name, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserStoreBase`5.SetTokenAsync(TUser user, String loginProvider, String name, String value, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.SetAuthenticationTokenAsync(TUser user, String loginProvider, String tokenName, String tokenValue)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.SaveRefreshToken(String username, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 155
   at Store.BusinessLogic.Services.AccountService.SaveRefreshToken(String username, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 169
   at Store.Presentation.Controllers.AccountController.SignIn(SignInData loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T13:08:33.2804375+02:00 8000003a-0000-fe00-b63f-84710c7967bb [INF] Request finished in 1628.1209000000001ms 500 text/plain (791a596a)
2019-11-20T14:28:31.5064164+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T14:28:31.5196985+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T14:28:31.5222340+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T14:28:31.5625707+02:00 8000006b-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T14:28:31.6562281+02:00 8000006b-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T14:28:31.6757407+02:00 8000006b-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T14:28:32.0482136+02:00 8000006b-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T14:28:32.0811343+02:00 8000006b-0001-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 398.0543ms (afa2e885)
2019-11-20T14:28:32.0833054+02:00 8000006b-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T14:28:32.0891744+02:00 8000006b-0001-ff00-b63f-84710c7967bb [INF] Request finished in 528.9905ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T14:28:45.6837570+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T14:28:45.6932526+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T14:28:45.7210030+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T14:28:46.2373568+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T14:28:46.7440997+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T14:28:46.9326822+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T14:28:46.9673771+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T14:28:46.9792414+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T14:28:46.9925519+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T14:28:47.0077451+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T14:28:47.0148977+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T14:28:47.0297818+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T14:28:47.0339668+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T14:28:47.0389460+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T14:28:47.2320894+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T14:28:47.3207770+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 1595.573ms (afa2e885)
2019-11-20T14:28:47.3237321+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T14:28:47.4223421+02:00 8000006d-0001-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindTokenAsync(TUser user, String loginProvider, String name, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserStoreBase`5.SetTokenAsync(TUser user, String loginProvider, String name, String value, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.SetAuthenticationTokenAsync(TUser user, String loginProvider, String tokenName, String tokenValue)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.SaveRefreshToken(String username, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 155
   at Store.BusinessLogic.Services.AccountService.SaveRefreshToken(String username, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 169
   at Store.Presentation.Controllers.AccountController.SignIn(SignInData loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T14:28:47.4475671+02:00 8000006d-0001-ff00-b63f-84710c7967bb [INF] Request finished in 1764.9029ms 500 text/plain (791a596a)
2019-11-20T14:29:16.9558229+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T14:29:16.9603847+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T14:29:16.9633848+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T14:29:17.0061719+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T14:29:17.0094337+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T14:29:17.0233860+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T14:29:17.0266246+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T14:29:17.0292460+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T14:29:17.0317615+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T14:29:17.0381824+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T14:29:17.0422671+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T14:29:17.0461760+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T14:29:17.0490595+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T14:29:17.0553543+02:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:10:38.5551357+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T15:10:38.5654788+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T15:10:38.5670092+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T15:10:38.5839486+02:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T15:10:38.6555151+02:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T15:10:38.6747562+02:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:10:38.9209163+02:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T15:10:38.9443392+02:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 260.94300000000004ms (afa2e885)
2019-11-20T15:10:38.9463439+02:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T15:10:38.9510305+02:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Request finished in 377.31280000000004ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T15:11:17.8777704+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T15:11:17.8989837+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T15:11:17.9182244+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:11:18.3941803+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:11:18.8210663+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:11:19.0006978+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T15:11:19.0327999+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:11:19.0433447+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T15:11:19.0562864+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T15:11:19.0719088+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T15:11:19.0796418+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:11:19.0965189+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:11:19.1001477+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:11:19.1042161+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:11:19.2344645+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:11:19.3479256+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 1427.8912ms (afa2e885)
2019-11-20T15:11:19.3506419+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T15:11:19.4104264+02:00 8000003c-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Store.DataAccess.Repositories.EFRepository.UserRepository.GetRefreshToken(String userId, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 151
   at Store.BusinessLogic.Services.AccountService.SaveRefreshToken(String username, String ipfingerprint, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 168
   at Store.Presentation.Controllers.AccountController.SignIn(String ipfingerprint, SignInData loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:11:19.4268530+02:00 8000003c-0000-fe00-b63f-84710c7967bb [INF] Request finished in 1549.2286000000001ms 500 text/plain (791a596a)
2019-11-20T15:11:41.6550754+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T15:11:41.6847077+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T15:11:41.6878827+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:11:52.7146681+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:11:52.7186924+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:11:52.7316610+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T15:11:52.7360909+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:11:52.7403079+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T15:11:52.7452115+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T15:11:52.7488563+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T15:11:52.7513796+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:11:52.7549294+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:11:52.7581495+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:11:52.7620025+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:11:52.7657376+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:11:52.8496311+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 11159.6383ms (afa2e885)
2019-11-20T15:11:52.8513934+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T15:11:52.8560480+02:00 8000003d-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Store.DataAccess.Repositories.EFRepository.UserRepository.GetRefreshToken(String userId, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 151
   at Store.BusinessLogic.Services.AccountService.SaveRefreshToken(String username, String ipfingerprint, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 168
   at Store.Presentation.Controllers.AccountController.SignIn(String ipfingerprint, SignInData loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:11:52.8592145+02:00 8000003d-0000-fe00-b63f-84710c7967bb [INF] Request finished in 11205.989000000001ms 500 text/plain (791a596a)
2019-11-20T15:12:16.9565492+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T15:12:16.9620286+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T15:12:16.9651445+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:12:16.9758397+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:12:16.9797991+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:12:17.2033685+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T15:12:17.2094525+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:12:17.2152244+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T15:12:17.2193112+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T15:12:17.2252734+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T15:12:17.2279516+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:12:17.2315565+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:12:17.2338079+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:12:17.2359170+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:13:17.4706423+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:13:17.5612726+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 60593.6174ms (afa2e885)
2019-11-20T15:13:17.5634107+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T15:13:17.5680295+02:00 8000003e-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Store.DataAccess.Repositories.EFRepository.UserRepository.GetRefreshToken(String userId, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 151
   at Store.BusinessLogic.Services.AccountService.SaveRefreshToken(String username, String ipfingerprint, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 168
   at Store.Presentation.Controllers.AccountController.SignIn(String ipfingerprint, SignInData loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:13:17.5708472+02:00 8000003e-0000-fe00-b63f-84710c7967bb [INF] Request finished in 60615.7096ms 500 text/plain (791a596a)
2019-11-20T15:14:24.1300978+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T15:14:24.1338092+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T15:14:24.1375331+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:14:24.1455588+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:14:24.1515567+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:14:24.1732336+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T15:14:24.2141084+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:14:24.2620290+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T15:14:24.2667735+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T15:14:24.2819932+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T15:14:24.2838703+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:14:24.2874386+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:14:24.2926250+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:14:24.2980101+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:14:24.3024946+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:14:24.3859820+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 246.9361ms (afa2e885)
2019-11-20T15:14:24.3876535+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T15:14:24.3992444+02:00 8000003f-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Store.DataAccess.Repositories.EFRepository.UserRepository.GetRefreshToken(String userId, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 151
   at Store.BusinessLogic.Services.AccountService.SaveRefreshToken(String username, String ipfingerprint, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 168
   at Store.Presentation.Controllers.AccountController.SignIn(String ipfingerprint, SignInData loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:14:24.4030032+02:00 8000003f-0000-fe00-b63f-84710c7967bb [INF] Request finished in 274.0733ms 500 text/plain (791a596a)
2019-11-20T15:14:50.4762966+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T15:14:50.4813917+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T15:14:50.4852802+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:14:50.4907829+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:14:50.4954578+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:14:50.5080508+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T15:14:50.5134575+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:14:50.5206639+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T15:14:50.5263710+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T15:14:50.5315201+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T15:14:50.5334169+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:14:50.5425148+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:14:50.5465041+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:14:50.5489305+02:00 80000040-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:18:14.8753902+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T15:18:14.8841169+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T15:18:14.8855428+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T15:18:14.9053711+02:00 80000072-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T15:18:14.9870497+02:00 80000072-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T15:18:15.0126566+02:00 80000072-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:18:15.3685336+02:00 80000072-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T15:18:15.3922991+02:00 80000072-0001-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 371.17920000000004ms (afa2e885)
2019-11-20T15:18:15.3944146+02:00 80000072-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T15:18:15.3993934+02:00 80000072-0001-ff00-b63f-84710c7967bb [INF] Request finished in 497.0926ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T15:18:27.5573891+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T15:18:27.5689946+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T15:18:27.6170869+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:18:28.1046857+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:18:28.4902640+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:18:28.6638888+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T15:18:28.6978271+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:18:28.7097426+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T15:18:28.7238633+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T15:18:28.7400216+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T15:18:28.7497899+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:18:28.7650628+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:18:28.7687370+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:18:28.7727773+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:18:28.9024323+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:18:29.0435255+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 1424.2135ms (afa2e885)
2019-11-20T15:18:29.0464147+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T15:18:29.1014293+02:00 80000077-0003-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Store.DataAccess.Repositories.EFRepository.UserRepository.GetRefreshToken(String userId, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 152
   at Store.BusinessLogic.Services.AccountService.SaveRefreshToken(String username, String ipfingerprint, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 168
   at Store.Presentation.Controllers.AccountController.SignIn(String ipfingerprint, SignInData loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:18:29.1180376+02:00 80000077-0003-ff00-b63f-84710c7967bb [INF] Request finished in 1561.777ms 500 text/plain (791a596a)
2019-11-20T15:18:54.3958143+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T15:18:54.4003927+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T15:18:54.4036789+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:18:54.4423146+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:18:54.4458074+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:18:54.4617952+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T15:18:54.4665038+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:18:54.4712841+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T15:18:54.4753214+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T15:18:54.4808148+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T15:18:54.4827915+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:18:54.4855367+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:18:54.4882072+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:18:54.4911227+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:19:05.1400104+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:19:05.2522974+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 10846.7121ms (afa2e885)
2019-11-20T15:19:05.2544948+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T15:19:05.2599532+02:00 80000078-0003-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Store.DataAccess.Repositories.EFRepository.UserRepository.GetRefreshToken(String userId, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 152
   at Store.BusinessLogic.Services.AccountService.SaveRefreshToken(String username, String ipfingerprint, String newToken) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 168
   at Store.Presentation.Controllers.AccountController.SignIn(String ipfingerprint, SignInData loginData) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:19:05.2634093+02:00 80000078-0003-ff00-b63f-84710c7967bb [INF] Request finished in 10868.2112ms 500 text/plain (791a596a)
2019-11-20T15:19:49.3483240+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T15:19:49.3560383+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T15:19:49.3597271+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T15:19:49.3758032+02:00 80000042-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T15:19:49.4488968+02:00 80000042-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T15:19:49.4678400+02:00 80000042-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:19:49.7176076+02:00 80000042-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T15:19:49.7389796+02:00 80000042-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 263.8483ms (afa2e885)
2019-11-20T15:19:49.7410553+02:00 80000042-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T15:19:49.7457508+02:00 80000042-0000-fe00-b63f-84710c7967bb [INF] Request finished in 380.43010000000004ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T15:19:53.1234927+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T15:19:53.1364074+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T15:19:53.1643253+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:19:53.6505720+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:19:54.0993184+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:19:54.5145552+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T15:19:54.5767062+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:19:54.6375901+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T15:19:54.6518407+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T15:19:54.6890924+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T15:19:54.6964219+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:19:54.7124101+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:19:54.7168792+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:19:54.7226942+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:19:57.9840922+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:19:59.9790752+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:20:00.1157244+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([IPFingerprint], [RefreshToken], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (65d11854)
2019-11-20T15:20:00.1572520+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.UserModelItem"'. (8a1b66c8)
2019-11-20T15:20:00.1673648+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 7000.878000000001ms (afa2e885)
2019-11-20T15:20:00.1701909+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T15:20:00.1759951+02:00 8000006e-0004-ff00-b63f-84710c7967bb [INF] Request finished in 7052.6156ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T15:21:14.5168953+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:21:14.5834752+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:21:14.5894372+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:21:14.5920013+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:21:14.5980464+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:21:14.6406520+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:21:14.6573476+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:21:14.6670727+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:21:14.6712079+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:21:14.6770867+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:21:14.6822010+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:21:14.6929470+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:21:14.7091845+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T15:21:14.7474584+02:00 8000006f-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("25"ms) [Parameters=["@p0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (627a98df)
2019-11-20T15:21:14.7982878+02:00 8000006f-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred in the database while saving changes for context type '"Store.DataAccess.AppContext.ApplicationContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint \"FK_Sessions_Users_UserId\". The conflict occurred in database \"EducationDB\", table \"dbo.Sessions\", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ce2218d2-b47e-4b9b-a197-e0d1a77cb706
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Sessions_Users_UserId". The conflict occurred in database "EducationDB", table "dbo.Sessions", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ce2218d2-b47e-4b9b-a197-e0d1a77cb706
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.RemoveRefreshToken(String username, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 173
2019-11-20T15:21:14.9646919+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 365.0095ms (afa2e885)
2019-11-20T15:21:14.9670398+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:21:14.9827224+02:00 8000006f-0004-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Sessions_Users_UserId". The conflict occurred in database "EducationDB", table "dbo.Sessions", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ce2218d2-b47e-4b9b-a197-e0d1a77cb706
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.RemoveRefreshToken(String username, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 173
   at Store.BusinessLogic.Services.AccountService.CheckAndRemoveRefreshToken(String username, String ipfingerprint, String token) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 162
   at Store.Presentation.Controllers.AccountController.RefreshTokens(String Authorization, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 170
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:21:14.9967913+02:00 8000006f-0004-ff00-b63f-84710c7967bb [INF] Request finished in 480.77180000000004ms 500 text/plain (791a596a)
2019-11-20T15:27:01.6412670+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T15:27:01.6492178+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T15:27:01.6505865+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T15:27:01.6610142+02:00 8000007a-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T15:27:01.7334275+02:00 8000007a-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T15:27:01.7541381+02:00 8000007a-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:27:02.0293495+02:00 8000007a-0003-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T15:27:02.0540193+02:00 8000007a-0003-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 292.5272ms (afa2e885)
2019-11-20T15:27:02.0561245+02:00 8000007a-0003-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T15:27:02.0621609+02:00 8000007a-0003-ff00-b63f-84710c7967bb [INF] Request finished in 404.40700000000004ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T15:27:04.4558354+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:27:04.6290592+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:27:04.6355114+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:27:04.6371578+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:27:04.6548426+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:27:05.1415048+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:27:05.5678618+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:27:05.7182430+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:27:05.7620933+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:27:05.7726979+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:27:05.7934818+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:27:05.8018181+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:27:05.8126211+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:27:05.9216207+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Sessions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T15:27:11.3103553+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:27:11.3163774+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:27:11.3505163+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([IPFingerprint], [RefreshToken], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (65d11854)
2019-11-20T15:27:11.3779935+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.AccessTokenData"'. (8a1b66c8)
2019-11-20T15:27:11.3872866+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 6730.325900000001ms (afa2e885)
2019-11-20T15:27:11.3903543+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:27:11.3963903+02:00 80000044-0000-fe00-b63f-84710c7967bb [INF] Request finished in 6941.1818ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T15:27:26.9596790+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:27:26.9677137+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:27:26.9719434+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:27:26.9742041+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:27:26.9782449+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:27:27.0119171+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:27:27.0172562+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:27:27.0214345+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:27:27.0246703+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:27:27.0291898+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:27:27.0331324+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:27:27.0350718+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:27:27.0374407+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:27:27.0401804+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Sessions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T15:27:27.0446772+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:27:27.0479245+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:27:27.0515832+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([IPFingerprint], [RefreshToken], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (65d11854)
2019-11-20T15:27:27.0557363+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.AccessTokenData"'. (8a1b66c8)
2019-11-20T15:27:27.0578505+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 78.0346ms (afa2e885)
2019-11-20T15:27:27.0601173+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:27:27.0629505+02:00 80000045-0000-fe00-b63f-84710c7967bb [INF] Request finished in 104.6057ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T15:28:40.8123555+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:28:40.8168997+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:28:40.8201028+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:28:40.8233442+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:28:40.8285888+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:28:40.8381936+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:28:40.8447041+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:28:41.0480439+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:28:41.0532595+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:28:41.0599462+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:28:41.0662554+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:28:41.0703344+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:28:41.0763400+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:28:41.0819752+02:00 80000046-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Sessions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T15:29:43.6688524+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T15:29:43.6780679+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T15:29:43.6828016+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T15:29:43.6908879+02:00 800000a7-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T15:29:43.7691961+02:00 800000a7-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T15:29:43.7897570+02:00 800000a7-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:29:44.0500093+02:00 800000a7-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T15:29:44.0737279+02:00 800000a7-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 275.6186ms (afa2e885)
2019-11-20T15:29:44.0774153+02:00 800000a7-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T15:29:44.0857723+02:00 800000a7-0005-ff00-b63f-84710c7967bb [INF] Request finished in 397.2108ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T15:29:48.4617798+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:29:48.6524347+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:29:48.6591813+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:29:48.6626880+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:29:48.6807034+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:29:49.1566941+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:29:49.5873435+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:29:49.7399771+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:29:49.7864445+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:29:49.8008111+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:29:49.8227576+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:29:49.8310611+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:29:49.8401583+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:29:49.9188320+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 1236.1202ms (afa2e885)
2019-11-20T15:29:49.9213044+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:29:49.9830469+02:00 800000a9-0005-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentNullException: Value cannot be null. (Parameter 'entity')
   at Microsoft.EntityFrameworkCore.Utilities.Check.NotNull[T](T value, String parameterName)
   at Microsoft.EntityFrameworkCore.DbContext.Remove[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Remove(TEntity entity)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.RemoveRefreshToken(String username, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 174
   at Store.BusinessLogic.Services.AccountService.CheckAndRemoveRefreshToken(String username, String ipfingerprint, String token) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 162
   at Store.Presentation.Controllers.AccountController.RefreshTokens(String Authorization, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 170
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:29:50.0003724+02:00 800000a9-0005-ff00-b63f-84710c7967bb [INF] Request finished in 1539.0724ms 500 text/plain (791a596a)
2019-11-20T15:30:01.9327561+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T15:30:01.9384238+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T15:30:01.9466824+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:30:02.0029007+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:30:02.0059479+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:30:02.0472497+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T15:30:02.0554410+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:30:02.0642289+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T15:30:02.0781505+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T15:30:02.0965081+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T15:30:02.1016992+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:30:02.1055843+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:30:02.1103682+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:30:02.1146533+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:30:02.1330452+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:30:02.1367200+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:30:02.2718671+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([IPFingerprint], [RefreshToken], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (65d11854)
2019-11-20T15:30:02.3179665+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.UserModelItem"'. (8a1b66c8)
2019-11-20T15:30:02.3314973+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 380.3102ms (afa2e885)
2019-11-20T15:30:02.3342408+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T15:30:02.3367944+02:00 800000aa-0005-ff00-b63f-84710c7967bb [INF] Request finished in 404.1839ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T15:30:09.4865917+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:30:09.4908860+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:30:09.4988847+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:30:09.5023406+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:30:09.5052847+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:30:09.5155288+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:30:09.5199908+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:30:09.5240117+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:30:09.5288623+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:30:09.5376928+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:30:09.5475462+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:30:09.5556366+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:30:09.5619180+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:30:09.5788365+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Sessions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T15:30:19.1694920+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'. (8a1b66c8)
2019-11-20T15:30:19.1764605+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 9667.766ms (afa2e885)
2019-11-20T15:30:19.1789728+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:30:19.1818043+02:00 800000ab-0005-ff00-b63f-84710c7967bb [INF] Request finished in 9695.7945ms 401 application/problem+json; charset=utf-8 (791a596a)
2019-11-20T15:30:28.2855603+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:30:28.2888494+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:30:28.2920019+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:30:28.2986616+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:30:28.3014964+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:30:28.3055560+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:30:28.3110573+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:30:28.3158837+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:30:28.3183088+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:30:28.3204167+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:30:28.3227880+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:30:28.3250016+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:30:28.3301920+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:30:28.4336915+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 130.59990000000002ms (afa2e885)
2019-11-20T15:30:28.4352288+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:30:28.4406409+02:00 800000ac-0005-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentNullException: Value cannot be null. (Parameter 'entity')
   at Microsoft.EntityFrameworkCore.Utilities.Check.NotNull[T](T value, String parameterName)
   at Microsoft.EntityFrameworkCore.DbContext.Remove[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Remove(TEntity entity)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.RemoveRefreshToken(String username, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 174
   at Store.BusinessLogic.Services.AccountService.CheckAndRemoveRefreshToken(String username, String ipfingerprint, String token) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 162
   at Store.Presentation.Controllers.AccountController.RefreshTokens(String Authorization, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 170
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:30:28.4454214+02:00 800000ac-0005-ff00-b63f-84710c7967bb [INF] Request finished in 160.4881ms 500 text/plain (791a596a)
2019-11-20T15:30:57.7251455+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:30:57.7291380+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:30:57.7374161+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:30:57.7392153+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:30:57.7412261+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:31:49.1231266+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:31:49.1292082+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:31:49.1557176+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:31:49.1604971+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:31:51.7973015+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:31:51.8503215+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:31:51.8590483+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:31:51.8863023+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:31:52.0277022+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 54284.366500000004ms (afa2e885)
2019-11-20T15:31:52.0301478+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:31:52.0370939+02:00 800000ad-0005-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentNullException: Value cannot be null. (Parameter 'entity')
   at Microsoft.EntityFrameworkCore.Utilities.Check.NotNull[T](T value, String parameterName)
   at Microsoft.EntityFrameworkCore.DbContext.Remove[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Remove(TEntity entity)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.RemoveRefreshToken(String username, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 174
   at Store.BusinessLogic.Services.AccountService.CheckAndRemoveRefreshToken(String username, String ipfingerprint, String token) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 162
   at Store.Presentation.Controllers.AccountController.RefreshTokens(String Authorization, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 170
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:31:52.0425887+02:00 800000ad-0005-ff00-b63f-84710c7967bb [INF] Request finished in 54324.350000000006ms 500 text/plain (791a596a)
2019-11-20T15:32:23.2701722+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:32:23.2741672+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:32:23.2785959+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:32:23.2808700+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:32:23.2832173+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:32:27.2499072+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:32:27.2545732+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:32:27.2653788+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:32:27.2712942+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:32:37.1496059+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:32:38.3567214+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:32:39.0257418+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:32:39.0314645+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:32:39.1260444+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 15840.072600000001ms (afa2e885)
2019-11-20T15:32:39.1285530+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:32:39.1338448+02:00 800000ae-0005-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentNullException: Value cannot be null. (Parameter 'entity')
   at Microsoft.EntityFrameworkCore.Utilities.Check.NotNull[T](T value, String parameterName)
   at Microsoft.EntityFrameworkCore.DbContext.Remove[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Remove(TEntity entity)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.RemoveRefreshToken(String username, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 174
   at Store.BusinessLogic.Services.AccountService.CheckAndRemoveRefreshToken(String username, String ipfingerprint, String token) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 162
   at Store.Presentation.Controllers.AccountController.RefreshTokens(String Authorization, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 170
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:32:39.1381626+02:00 800000ae-0005-ff00-b63f-84710c7967bb [INF] Request finished in 15867.8029ms 500 text/plain (791a596a)
2019-11-20T15:33:40.8067992+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T15:33:40.8144537+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T15:33:40.8158711+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T15:33:40.8301431+02:00 8000007c-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T15:33:40.9014046+02:00 8000007c-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T15:33:40.9202347+02:00 8000007c-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:33:41.1991867+02:00 8000007c-0003-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T15:33:41.2220326+02:00 8000007c-0003-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 294.1866ms (afa2e885)
2019-11-20T15:33:41.2243571+02:00 8000007c-0003-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T15:33:41.2299088+02:00 8000007c-0003-ff00-b63f-84710c7967bb [INF] Request finished in 406.7593ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T15:33:47.0997138+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:33:47.2642636+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:33:47.2703349+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:33:47.2722222+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:33:47.2941626+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:33:47.7654947+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:33:48.1681656+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:33:48.3162955+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:33:48.3601401+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:33:53.9402797+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:34:06.7385250+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:34:06.7872910+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:34:31.4411001+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:34:31.4491479+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:34:31.4569699+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:34:31.5697300+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 44273.314600000005ms (afa2e885)
2019-11-20T15:34:31.5717427+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:34:31.6179953+02:00 80000056-0002-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentNullException: Value cannot be null. (Parameter 'entity')
   at Microsoft.EntityFrameworkCore.Utilities.Check.NotNull[T](T value, String parameterName)
   at Microsoft.EntityFrameworkCore.DbContext.Remove[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Remove(TEntity entity)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.RemoveRefreshToken(String username, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 174
   at Store.BusinessLogic.Services.AccountService.CheckAndRemoveRefreshToken(String username, String ipfingerprint, String token) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 162
   at Store.Presentation.Controllers.AccountController.RefreshTokens(String Authorization, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 170
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:34:31.6378722+02:00 80000056-0002-ff00-b63f-84710c7967bb [INF] Request finished in 44538.2169ms 500 text/plain (791a596a)
2019-11-20T15:34:35.3074202+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T15:34:35.3139380+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T15:34:35.3739852+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:34:35.4454808+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:34:35.4497756+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:34:35.4979078+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T15:34:35.5052760+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:34:35.5153382+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T15:34:35.5286795+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T15:34:35.5482020+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T15:34:35.5522597+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:34:35.5551525+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:34:35.5577934+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:34:35.5618900+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:34:45.4746650+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:34:45.4801779+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:34:45.6145076+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([IPFingerprint], [RefreshToken], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (65d11854)
2019-11-20T15:34:45.6521310+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.UserModelItem"'. (8a1b66c8)
2019-11-20T15:34:45.6610949+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 10285.0467ms (afa2e885)
2019-11-20T15:34:45.6634043+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T15:34:45.6661484+02:00 80000057-0002-ff00-b63f-84710c7967bb [INF] Request finished in 10359.138ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T15:35:34.9014997+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:35:34.9055886+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:35:34.9112093+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:35:34.9137893+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:35:34.9166044+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:35:34.9284735+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:35:34.9341712+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:35:34.9466650+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:34.9516229+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:35:34.9569825+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:34.9848530+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:35:34.9887765+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:34.9915285+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:35:35.0051643+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Sessions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T15:35:35.0169752+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'. (8a1b66c8)
2019-11-20T15:35:35.0199270+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 101.6931ms (afa2e885)
2019-11-20T15:35:35.0219373+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:35:35.0240506+02:00 80000058-0002-ff00-b63f-84710c7967bb [INF] Request finished in 123.6837ms 401 application/problem+json; charset=utf-8 (791a596a)
2019-11-20T15:35:37.9885495+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:35:37.9920819+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:35:37.9960048+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:35:38.0005719+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:35:38.0034234+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:35:38.0072087+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:35:38.0120715+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:35:38.0172791+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:38.0208713+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:35:38.0247480+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:38.0290284+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:35:38.0322304+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:38.0360864+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:35:38.1369314+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 131.54410000000001ms (afa2e885)
2019-11-20T15:35:38.1385474+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:35:38.1438948+02:00 80000059-0002-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentNullException: Value cannot be null. (Parameter 'entity')
   at Microsoft.EntityFrameworkCore.Utilities.Check.NotNull[T](T value, String parameterName)
   at Microsoft.EntityFrameworkCore.DbContext.Remove[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Remove(TEntity entity)
   at Store.DataAccess.Repositories.EFRepository.UserRepository.RemoveRefreshToken(String username, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.DataAccess\Repositories\EFRepositories\UserRepository.cs:line 174
   at Store.BusinessLogic.Services.AccountService.CheckAndRemoveRefreshToken(String username, String ipfingerprint, String token) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.BusinessLogic\Services\AccountService.cs:line 162
   at Store.Presentation.Controllers.AccountController.RefreshTokens(String Authorization, String ipfingerprint) in C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation\Controllers\AccountController.cs:line 170
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-20T15:35:38.1483208+02:00 80000059-0002-ff00-b63f-84710c7967bb [INF] Request finished in 159.9592ms 500 text/plain (791a596a)
2019-11-20T15:35:40.1631435+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T15:35:40.1662806+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T15:35:40.1686911+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:35:40.1794338+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:35:40.2349258+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:40.2485393+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T15:35:40.2621625+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:35:40.2724590+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T15:35:40.2785178+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T15:35:40.2866373+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T15:35:40.2891294+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:40.2921315+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:40.2961455+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:35:40.3007040+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:40.3049626+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:35:40.3075540+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:40.3139214+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([IPFingerprint], [RefreshToken], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (65d11854)
2019-11-20T15:35:40.3190544+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.UserModelItem"'. (8a1b66c8)
2019-11-20T15:35:40.3209977+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 150.6783ms (afa2e885)
2019-11-20T15:35:40.3225186+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T15:35:40.3244670+02:00 8000005a-0002-ff00-b63f-84710c7967bb [INF] Request finished in 167.4633ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T15:35:51.9591640+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:35:51.9636788+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:35:51.9738633+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:35:51.9794923+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:35:51.9838492+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:35:51.9888402+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:35:51.9935850+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:35:52.0000271+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:52.0029779+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:35:52.0059812+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:52.0094174+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:35:52.0144409+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:35:52.0177933+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:35:52.0214265+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Sessions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T15:35:52.0244641+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'. (8a1b66c8)
2019-11-20T15:35:52.0282710+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 41.060300000000005ms (afa2e885)
2019-11-20T15:35:52.0302032+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:35:52.0328582+02:00 8000005b-0002-ff00-b63f-84710c7967bb [INF] Request finished in 77.5468ms 401 application/problem+json; charset=utf-8 (791a596a)
2019-11-20T15:36:06.4635037+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 72 (ca22a1cb)
2019-11-20T15:36:06.4738140+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T15:36:06.4781321+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:36:06.4832604+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:36:06.4869722+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:36:06.5013338+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T15:36:06.5074497+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:36:06.5147243+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T15:36:06.5196731+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T15:36:06.5244597+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T15:36:06.5301051+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:36:06.5357348+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:36:06.5400039+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:36:06.5454395+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:36:06.5499127+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__userId_0) AND ([s].[UserId] IS NOT NULL AND @__userId_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__userId_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:36:06.5522573+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:36:06.5560676+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([IPFingerprint], [RefreshToken], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (65d11854)
2019-11-20T15:36:06.5605500+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.UserModelItem"'. (8a1b66c8)
2019-11-20T15:36:06.5644172+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 84.5393ms (afa2e885)
2019-11-20T15:36:06.5662439+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T15:36:06.5683088+02:00 8000005c-0002-ff00-b63f-84710c7967bb [INF] Request finished in 107.1819ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T15:36:50.1505882+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T15:36:50.1586366+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T15:36:50.1614775+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T15:36:50.1788062+02:00 800000b0-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T15:36:50.2493667+02:00 800000b0-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T15:36:50.2674769+02:00 800000b0-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:36:50.5158484+02:00 800000b0-0005-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T15:36:50.5381473+02:00 800000b0-0005-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 263.1224ms (afa2e885)
2019-11-20T15:36:50.5402758+02:00 800000b0-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T15:36:50.5458393+02:00 800000b0-0005-ff00-b63f-84710c7967bb [INF] Request finished in 376.6698ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T15:38:05.4777328+02:00 80000078-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:38:05.6542479+02:00 80000078-0004-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:38:05.6606476+02:00 80000078-0004-fd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:38:05.6633206+02:00 80000078-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:38:05.6851586+02:00 80000078-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:38:06.1610042+02:00 80000078-0004-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:38:06.5570944+02:00 80000078-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:38:06.7007134+02:00 80000078-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:38:06.7430279+02:00 80000078-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:38:06.7557711+02:00 80000078-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:17.5495353+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T15:39:17.5575450+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T15:39:17.5590996+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T15:39:17.5732121+02:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T15:39:17.6452386+02:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T15:39:17.6641471+02:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:39:17.9165465+02:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T15:39:17.9385118+02:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 267.16880000000003ms (afa2e885)
2019-11-20T15:39:17.9407974+02:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T15:39:17.9456770+02:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Request finished in 380.4048ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T15:39:20.3844347+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:39:20.5506521+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:39:20.5564561+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:39:20.5579905+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:39:20.5795423+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:39:21.0537792+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:39:21.4661769+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:39:21.6165418+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:21.6581897+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:39:21.6701768+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:21.6776115+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:26.7067579+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]" (65d11854)
2019-11-20T15:39:26.7511582+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]" (65d11854)
2019-11-20T15:39:33.1902050+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:39:33.2417374+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:39:33.3037043+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:40.5565261+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:39:40.5642845+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:39:40.5709421+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:40.5826171+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:39:40.6513568+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Sessions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T15:39:40.6758065+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:40.7026618+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([IPFingerprint], [RefreshToken], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (65d11854)
2019-11-20T15:39:40.7264194+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.AccessTokenData"'. (8a1b66c8)
2019-11-20T15:39:40.7351739+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 20153.6559ms (afa2e885)
2019-11-20T15:39:40.7379591+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:39:40.7431018+02:00 8000007a-0004-fd00-b63f-84710c7967bb [INF] Request finished in 20359.022500000003ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T15:39:44.6324017+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:39:44.6374257+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:39:44.6400002+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:39:44.6420922+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:39:44.6454022+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:39:44.6793121+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:39:44.6831995+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:39:44.6880091+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:44.6910950+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:39:44.6971139+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:44.6998253+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:44.7023983+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:39:44.7046649+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:39:44.7074272+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'. (8a1b66c8)
2019-11-20T15:39:44.7110769+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 63.5245ms (afa2e885)
2019-11-20T15:39:44.7138822+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:39:44.7166370+02:00 8000007b-0004-fd00-b63f-84710c7967bb [INF] Request finished in 85.4573ms 401 application/problem+json; charset=utf-8 (791a596a)
2019-11-20T15:39:56.2772948+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:39:56.2823263+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:39:56.2854545+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:39:56.2877245+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:39:56.2899288+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:39:56.2983923+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:39:56.3037139+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:39:56.3080149+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:56.3124368+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:39:56.3161376+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:56.3190457+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:56.3217183+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:39:56.3237739+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:39:56.3268247+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:56.3313143+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:39:56.3338306+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:39:56.3360040+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:56.3387910+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:39:56.3414960+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Sessions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T15:39:56.3458332+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:39:56.3498266+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([IPFingerprint], [RefreshToken], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (65d11854)
2019-11-20T15:39:56.3534079+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.AccessTokenData"'. (8a1b66c8)
2019-11-20T15:39:56.3553666+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 63.9804ms (afa2e885)
2019-11-20T15:39:56.3571882+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:39:56.3592756+02:00 8000007c-0004-fd00-b63f-84710c7967bb [INF] Request finished in 82.85520000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T15:40:13.9350414+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:40:13.9386365+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:40:13.9410722+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:40:13.9451359+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:40:13.9474416+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:40:13.9514271+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:40:13.9555388+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:40:13.9620359+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:40:13.9667008+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:40:13.9694907+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:40:13.9730081+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:40:13.9762214+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:40:13.9802337+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:40:13.9847769+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'. (8a1b66c8)
2019-11-20T15:40:13.9869205+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 37.886500000000005ms (afa2e885)
2019-11-20T15:40:13.9890893+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:40:13.9917161+02:00 8000007d-0004-fd00-b63f-84710c7967bb [INF] Request finished in 57.493300000000005ms 401 application/problem+json; charset=utf-8 (791a596a)
2019-11-20T15:40:16.1345733+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:40:16.1380011+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:40:16.1405148+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:40:16.1443340+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:40:16.1467207+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:40:16.1507442+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:40:16.1555031+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:40:16.1623933+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:40:16.1664033+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:40:16.1690561+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:40:16.1714286+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:40:16.1740546+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:40:16.1769593+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:40:16.1815931+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:40:16.1846055+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:40:16.1866662+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:40:16.1887567+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:40:16.1914370+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:40:16.1952495+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Sessions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T15:40:16.1993942+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:40:16.2022888+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([IPFingerprint], [RefreshToken], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (65d11854)
2019-11-20T15:40:16.2053823+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.AccessTokenData"'. (8a1b66c8)
2019-11-20T15:40:16.2073869+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 58.816ms (afa2e885)
2019-11-20T15:40:16.2097201+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:40:16.2124760+02:00 8000007e-0004-fd00-b63f-84710c7967bb [INF] Request finished in 78.158ms 200 application/json; charset=utf-8 (791a596a)
2019-11-20T15:40:21.4261158+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/RefreshToken  0 (ca22a1cb)
2019-11-20T15:40:21.4373780+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2019-11-20T15:40:21.4412899+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2019-11-20T15:40:21.4450619+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (500cc934)
2019-11-20T15:40:21.4486137+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"RefreshTokens\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokens(System.String, System.String)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T15:40:21.4533399+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T15:40:21.4592135+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2019-11-20T15:40:21.4654585+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:40:21.4683165+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T15:40:21.4706173+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:40:21.4731038+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T15:40:21.4755256+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T15:40:21.4786611+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T15:40:21.4819961+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'. (8a1b66c8)
2019-11-20T15:40:21.4840739+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)" in 33.8937ms (afa2e885)
2019-11-20T15:40:21.4861059+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.RefreshTokens (Store.Presentation)"' (99874f2b)
2019-11-20T15:40:21.4882444+02:00 8000007f-0004-fd00-b63f-84710c7967bb [INF] Request finished in 66.861ms 401 application/problem+json; charset=utf-8 (791a596a)
