2019-11-20T17:31:14.5966565+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-11-20T17:31:14.6062698+02:00  [INF] Hosting environment: "Development" (c3307c92)
2019-11-20T17:31:14.6085509+02:00  [INF] Content root path: "C:\Users\Anuitex-187\source\repos\EducationApp\Store.Presentation" (b5d60022)
2019-11-20T17:31:14.6257217+02:00 8000007e-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44312/Account/Home   (ca22a1cb)
2019-11-20T17:31:14.7188200+02:00 8000007e-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (500cc934)
2019-11-20T17:31:14.7438631+02:00 8000007e-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Home\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Home()" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T17:31:15.0037327+02:00 8000007e-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-11-20T17:31:15.0269369+02:00 8000007e-0004-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.Home (Store.Presentation)" in 275.2344ms (afa2e885)
2019-11-20T17:31:15.0301748+02:00 8000007e-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.Home (Store.Presentation)"' (99874f2b)
2019-11-20T17:31:15.0354860+02:00 8000007e-0004-ff00-b63f-84710c7967bb [INF] Request finished in 420.08480000000003ms 200 text/plain; charset=utf-8 (791a596a)
2019-11-20T17:31:16.2267152+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44312/Account/SignIn?= application/json; charset=utf-8 52 (ca22a1cb)
2019-11-20T17:31:16.2328115+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (500cc934)
2019-11-20T17:31:16.2534995+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"SignIn\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(System.String, Store.BusinessLogic.Models.Users.SignInData)" on controller "Store.Presentation.Controllers.AccountController" ("Store.Presentation"). (122b2fdf)
2019-11-20T17:31:16.7603660+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.0" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Store.DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null " (9958f5bb)
2019-11-20T17:31:17.1541373+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T17:31:17.3273349+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ClaimType], [u].[ClaimValue], [u].[Id], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE (([u].[UserId] = @__user_Id_0) AND ([u].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([u].[UserId] IS NULL AND @__user_Id_0 IS NULL)" (65d11854)
2019-11-20T17:31:17.3599865+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T17:31:17.3692689+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE (([r].[NormalizedName] = @__normalizedName_0) AND ([r].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([r].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2019-11-20T17:31:17.3825815+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE (([r].[RoleId] = @__role_Id_0) AND ([r].[RoleId] IS NOT NULL AND @__role_Id_0 IS NOT NULL)) OR ([r].[RoleId] IS NULL AND @__role_Id_0 IS NULL)" (65d11854)
2019-11-20T17:31:17.3972105+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-11-20T17:31:17.4053458+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T17:31:17.4206803+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T17:31:17.4250481+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserInRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2019-11-20T17:31:17.4298263+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T17:31:17.5498205+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T17:31:17.5679483+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Sessions] AS [s]
        WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (65d11854)
2019-11-20T17:31:17.5800561+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T17:31:17.6056271+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T17:31:17.6093305+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450), @__ipfingerprint_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[IPFingerprint], [s].[RefreshToken], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ((([s].[UserId] = @__user_Id_0) AND ([s].[UserId] IS NOT NULL AND @__user_Id_0 IS NOT NULL)) OR ([s].[UserId] IS NULL AND @__user_Id_0 IS NULL)) AND ((([s].[IPFingerprint] = @__ipfingerprint_1) AND ([s].[IPFingerprint] IS NOT NULL AND @__ipfingerprint_1 IS NOT NULL)) OR ([s].[IPFingerprint] IS NULL AND @__ipfingerprint_1 IS NULL))" (65d11854)
2019-11-20T17:31:17.6966603+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Sessions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (65d11854)
2019-11-20T17:31:17.7199546+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[NormalizedUserName] = @__normalizedUserName_0) AND ([u].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([u].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2019-11-20T17:31:17.7464883+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([IPFingerprint], [RefreshToken], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (65d11854)
2019-11-20T17:31:17.7703683+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Store.BusinessLogic.Models.Users.UserModelItem"'. (8a1b66c8)
2019-11-20T17:31:17.7812923+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executed action "Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)" in 1525.0134ms (afa2e885)
2019-11-20T17:31:17.7839028+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Store.Presentation.Controllers.AccountController.SignIn (Store.Presentation)"' (99874f2b)
2019-11-20T17:31:17.7891828+02:00 8000005e-0002-ff00-b63f-84710c7967bb [INF] Request finished in 1564.611ms 200 application/json; charset=utf-8 (791a596a)
